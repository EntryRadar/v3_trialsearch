(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6393:function(e,t,r){Promise.resolve().then(r.bind(r,5913))},5913:function(e,t,r){"use strict";r.d(t,{SearchFormComponent:function(){return ee}});var s=r(7437),a=r(2265),i=r(9501),n=r(6262),o=r(3648),l=r(7596),d=r(5375),c=r(1260),m=r(83),h=r(8614),u=r(6298),g=r(7053),x=r(7712),p=r(1994),f=r(3335);function b(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,f.m6)((0,p.W)(t))}let j=(0,x.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),N=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:n=!1,...o}=e,l=n?g.g7:"button";return(0,s.jsx)(l,{className:b(j({variant:a,size:i,className:r})),ref:t,...o})});N.displayName="Button";let y=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:b("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});y.displayName="Input";var v=r(6394);let w=(0,x.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(v.f,{ref:t,className:b(w(),r),...a})});M.displayName=v.f.displayName;let R=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:b("rounded-xl border bg-card text-card-foreground shadow",r),...a})});R.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:b("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:b("font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:b("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let C=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:b("p-6 pt-0",r),...a})});C.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:b("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var P=r(6255);let W=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(P.fC,{ref:t,className:b("relative overflow-hidden",r),...i,children:[(0,s.jsx)(P.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(T,{}),(0,s.jsx)(P.Ns,{})]})});W.displayName=P.fC.displayName;let T=a.forwardRef((e,t)=>{let{className:r,orientation:a="vertical",...i}=e;return(0,s.jsx)(P.gb,{ref:t,orientation:a,className:b("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...i,children:(0,s.jsx)(P.q4,{className:"relative flex-1 rounded-full bg-border"})})});T.displayName=P.gb.displayName;var S=r(11);let A=S.fC,k=S.xz;S.ee;let D=a.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:i=4,...n}=e;return(0,s.jsx)(S.h_,{children:(0,s.jsx)(S.VY,{ref:t,align:a,sideOffset:i,className:b("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})})});D.displayName=S.VY.displayName;let F=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:b("w-full caption-bottom text-sm",r),...a})})});F.displayName="Table";let I=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:b("[&_tr]:border-b",r),...a})});I.displayName="TableHeader";let E=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:b("[&_tr:last-child]:border-0",r),...a})});E.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:b("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let L=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:b("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});L.displayName="TableRow";let B=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:b("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});B.displayName="TableHead";let q=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:b("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});q.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:b("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption";var K=r(9027),O=r(653);let z=K.fC;K.xz,K.x8;let H=K.h_,_=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(K.aV,{className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:t})});_.displayName=K.aV.displayName;let G=(0,x.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Z=a.forwardRef((e,t)=>{let{side:r="right",className:a,children:i,...n}=e;return(0,s.jsxs)(H,{children:[(0,s.jsx)(_,{}),(0,s.jsxs)(K.VY,{ref:t,className:b(G({side:r}),a),...n,children:[(0,s.jsxs)(K.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(O.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),i]})]})});Z.displayName=K.VY.displayName;let V=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:b("flex flex-col space-y-2 text-center sm:text-left",t),...r})};V.displayName="SheetHeader";let J=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(K.Dx,{ref:t,className:b("text-lg font-semibold text-foreground",r),...a})});J.displayName=K.Dx.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(K.dk,{ref:t,className:b("text-sm text-muted-foreground",r),...a})}).displayName=K.dk.displayName;let Y=e=>{let{label:t,name:r,control:a}=e;return(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t}),(0,s.jsx)(i.Qr,{name:r,control:a,defaultValue:0,render:e=>{let{field:t}=e;return(0,s.jsx)("input",{type:"number",...t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})}})]})},Q=e=>{let{description:t}=e;return(0,s.jsxs)(A,{children:[(0,s.jsx)(k,{asChild:!0,children:(0,s.jsx)(o.Z,{className:"h-5 w-5 text-blue-500 ml-2 cursor-pointer"})}),(0,s.jsx)(D,{className:"w-80 p-2 text-sm",children:t})]})},U=e=>{let{inputProps:t,label:r,suggestions:i,description:o,register:d,name:c,children:m}=e,[g,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),b=(0,a.useRef)(null),[j,N]=(0,a.useState)(""),{onChange:v,onBlur:w,name:R,ref:C}=d(c),P=e=>{N(e.target.value),v(e)},T=e=>{let t=j.split(",").map(e=>e.trim()).filter(Boolean);if(!t.includes(e)){let r=[...t,e].join(", ");N(r),v({target:{name:R,value:r}})}f(!1)};return(0,a.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsx)(n.pJ,{children:e=>{let{open:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-4 relative",children:[(0,s.jsxs)(M,{htmlFor:t.id,className:"mb-1 flex items-center",children:[r,(0,s.jsx)(Q,{description:o})]}),(0,s.jsxs)("div",{className:"flex items-center w-full rounded-lg border border-blue-200 bg-gradient-to-r from-blue-50 to-blue-100 shadow-sm",children:[(0,s.jsx)(y,{...t,ref:C,value:j,onChange:P,onBlur:w,name:R,className:"w-full rounded-l-lg bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:()=>f(!0)}),(0,s.jsx)(n.pJ.Button,{className:"p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>x(!g),children:(0,s.jsx)(l.Z,{className:"".concat(a?"rotate-180 transform":""," h-5 w-5 text-blue-600")})})]}),(0,s.jsx)(h.M,{children:p&&(0,s.jsx)(u.E.div,{ref:b,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute z-10 w-full mt-1 bg-white border border-blue-200 rounded-md shadow-lg",children:(0,s.jsx)(W,{className:"h-60 w-full p-2",children:(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:i.map(e=>(0,s.jsx)("div",{className:"px-2 py-1 hover:bg-blue-100 cursor-pointer rounded text-xs",onMouseDown:()=>T(e),children:e},e))})})})})]}),(0,s.jsx)(n.pJ.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500 bg-white rounded-lg mb-4 border border-gray-200",children:m})]})}})},X=e=>{let{selectedResults:t,onClose:r}=e;return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:"Compare Clinical Trial Results"}),(0,s.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(d.Z,{className:"h-6 w-6"})})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(F,{children:[(0,s.jsx)(I,{children:(0,s.jsxs)(L,{children:[(0,s.jsx)(B,{children:"Trial"}),(0,s.jsx)(B,{children:"Drug Name(s)"}),(0,s.jsx)(B,{children:"PFS"}),(0,s.jsx)(B,{children:"ORR"}),(0,s.jsx)(B,{children:"OS"}),(0,s.jsx)(B,{children:"Genes/Mutations"}),(0,s.jsx)(B,{children:"Prior Treatments"}),(0,s.jsx)(B,{children:"Match Score"}),(0,s.jsx)(B,{children:"Other Characteristics"})]})}),(0,s.jsx)(E,{children:t.map(e=>(0,s.jsxs)(L,{children:[(0,s.jsx)(q,{children:e.drugNames.join(", ")}),(0,s.jsxs)(q,{children:[e.pfs.toFixed(1)," months"]}),(0,s.jsxs)(q,{children:[(100*e.orr).toFixed(1),"%"]}),(0,s.jsxs)(q,{children:[e.os.toFixed(1)," months"]}),(0,s.jsx)(q,{children:e.genesMutations.join(", ")}),(0,s.jsx)(q,{children:e.priorTreatments.join(", ")}),(0,s.jsxs)(q,{children:[(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(100*e.matchScore,"%")}})}),(0,s.jsxs)("span",{className:"text-xs",children:[(100*e.matchScore).toFixed(0),"%"]})]}),(0,s.jsx)(q,{children:e.otherCharacteristics})]},e.id))})]})})]})},$=e=>{let{name:t,control:r,label:a,description:n}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(M,{className:"mb-1 flex items-center",children:[a,n&&(0,s.jsx)(Q,{description:n})]}),(0,s.jsx)(i.Qr,{name:t,control:r,render:e=>{let{field:t}=e;return(0,s.jsx)("div",{className:"flex rounded-lg border border-gray-200 p-1 space-x-1 bg-gray-50",children:["Yes","No","N/A"].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>t.onChange("N/A"===e?"":e),className:"flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ".concat(t.value===("N/A"===e?"":e)?"bg-blue-600 text-white shadow-sm":"bg-transparent text-gray-600 hover:bg-gray-100"),children:e},e))})}})]})};function ee(){let{register:e,control:t,handleSubmit:r}=(0,i.cI)(),[o,d]=(0,a.useState)([]),[g,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null),[b,j]=(0,a.useState)(null),[v,w]=(0,a.useState)([]),[P,W]=(0,a.useState)(!1),T=async e=>{var t,r,s,a,i;x(!0),f(null),j(null);let n={...e,mutations:e.mutations||"",biomarkers:e.biomarkers||"",previousSurgery:(null===(t=e.previousSurgery)||void 0===t?void 0:t.toLowerCase())||"",brainMetastases:(null===(r=e.brainMetastases)||void 0===r?void 0:r.toLowerCase())||"",cancerStage:e.cancerStage||"",metastaticCancer:(null===(s=e.metastaticCancer)||void 0===s?void 0:s.toLowerCase())||"",progressedPDL1:(null===(a=e.progressedPDL1)||void 0===a?void 0:a.toLowerCase())||"",specificResistances:e.specificResistances||"",priorDrugProgression:e.priorDrugProgression||"",priorDrugs:e.priorDrugs||"",treatmentNaive:(null===(i=e.treatmentNaive)||void 0===i?void 0:i.toLowerCase())||"",mutationMatchWeight:e.mutationMatchWeight||12,MutationNotAllowed:e.mutationNotAllowedWeight||-12,mutationMentioned:e.mutationMentionedWeight||3,mutationMentionedTitle:e.mutationMentionedTitleWeight||3,surgeryMatchWeight:e.surgeryMatchWeight||12,surgeryMismatchWeight:e.surgeryMismatchWeight||-12,biomarkerRequiredWeight:e.biomarkerRequiredWeight||12,biomarkerRequiredMismatchWeight:e.biomarkerRequiredMismatchWeight||-12,biomarkerMentionedWeight:e.biomarkerMentionedWeight||3,biomarkerNotAllowedWeight:e.biomarkerNotAllowedWeight||-12,biomarkerProgressionRequiredWeight:e.biomarkerProgressionRequiredWeight||12,brainMetastasesMatchWeight:e.brainMetastasesMatchWeight||12,brainMetastasesMismatchWeight:e.brainMetastasesMismatchWeight||-12,titleBrainMetastasesMatchWeight:e.titleBrainMetastasesMatchWeight||12,titleBrainMetastasesMismatchWeight:e.titleBrainMetastasesMismatchWeight||-12,drugRequiredWeight:e.drugRequiredWeight||12,drugNotAllowedWeight:e.drugNotAllowedWeight||-12,notAllowedBrainMetastasesMatchWeight:e.notAllowedBrainMetastasesMatchWeight||12,notAllowedBrainMetastasesMismatchWeight:e.notAllowedBrainMetastasesMismatchWeight||-12,cancerStageMatchWeight:e.cancerStageMatchWeight||12,metastaticCancerMatchWeight:e.metastaticCancerMatchWeight||12,metastaticCancerMismatchWeight:e.metastaticCancerMismatchWeight||-12,pdl1ProgressionMatchWeight:e.pdl1ProgressionMatchWeight||12,pdl1ProgressionMismatchWeight:e.pdl1ProgressionMismatchWeight||-12,resistanceRequiredMatchWeight:e.resistanceRequiredMatchWeight||12,resistanceRequiredMismatchWeight:e.resistanceRequiredMismatchWeight||-12,resistanceSoughtMatchWeight:e.resistanceSoughtMatchWeight||12,drugProgressionRequiredMatchWeight:e.drugProgressionRequiredMatchWeight||12,drugProgressionRequiredMismatchWeight:e.drugProgressionRequiredMismatchWeight||-12,drugProgressionSoughtMatchWeight:e.drugProgressionSoughtMatchWeight||12,treatmentNaiveRequiredMatchWeight:e.treatmentNaiveRequiredMatchWeight||12,treatmentNaiveRequiredMismatchWeight:e.treatmentNaiveRequiredMismatchWeight||-12};try{let e;console.log("Form data:",n);let t=await fetch("process_trials.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),r=await t.text();if(console.log("Raw response:",r),!t.ok)throw Error("HTTP error! status: ".concat(t.status));try{e=JSON.parse(r)}catch(e){throw console.error("JSON parse error:",e),Error("Invalid JSON response from server")}let s=(e.trials||[]).map(e=>({NCTId:e.NCTId,title:e.BriefTitle||"",summary:e.BriefSummary||"",score:e.Score||0,enrollment:"string"==typeof e.Enrollment?parseInt(e.Enrollment):e.Enrollment||0,distance:e.Distance,WithinRangeZips:e.WithinRangeZips||[],enrollmentChange:e.enrollmentChange||0,scoringDetails:e.ScoringDetails||[],priorTrialResults:(e.priorTrialResults||[]).map(e=>({id:e.id||String(Math.random()),drugNames:Array.isArray(e.drugNames)?e.drugNames:[],pfs:"string"==typeof e.pfs?parseFloat(e.pfs):e.pfs||0,orr:"string"==typeof e.orr?parseFloat(e.orr):e.orr||0,os:"string"==typeof e.os?parseFloat(e.os):e.os||0,genesMutations:Array.isArray(e.genesMutations)?e.genesMutations:[],priorTreatments:Array.isArray(e.priorTreatments)?e.priorTreatments:[],matchScore:"string"==typeof e.matchScore?parseFloat(e.matchScore):e.matchScore||0,otherCharacteristics:e.otherCharacteristics||""})),LocationZip:e.LocationZip||""}));console.log("Transformed trials:",s),d(s),j(JSON.stringify({request:n,response:e},null,2))}catch(e){console.error("Fetch error:",e),f("Failed to fetch trials. Please try again.")}finally{x(!1)}},S=e=>{w(t=>t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])};return(0,s.jsxs)("div",{className:"max-w-full mx-auto p-4 md:p-6",children:[(0,s.jsx)("form",{onSubmit:r(T),className:"space-y-6",children:(0,s.jsx)(R,{className:"bg-blue-50",children:(0,s.jsxs)(C,{className:"p-4 md:p-6",children:[(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-gray-900",children:"Clinical Trial Search"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:[(0,s.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(M,{htmlFor:"userLocation",className:"mb-1 flex items-center",children:["Your Location",(0,s.jsx)(Q,{description:"Enter your ZIP code to find nearby clinical trials."})]}),(0,s.jsx)(y,{...e("userLocation"),placeholder:"Enter ZIP Code",id:"userLocation",className:"w-full"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(M,{htmlFor:"maxDistance",className:"mb-1 flex items-center",children:["Max Distance (miles)",(0,s.jsx)(Q,{description:"Specify the maximum distance you're willing to travel for a trial."})]}),(0,s.jsx)(y,{...e("maxDistance"),placeholder:"Enter distance",id:"maxDistance",type:"number",className:"w-full"})]}),(0,s.jsxs)(U,{inputProps:{placeholder:"Enter prior drug treatments",id:"priorDrugs"},label:"Prior Drug Treatments",suggestions:["Chemotherapy","Immunotherapy","Targeted Therapy","Hormone Therapy","Radiation Therapy","Surgery","Stem Cell Transplant","CAR T-cell Therapy","Angiogenesis Inhibitors","PARP Inhibitors","Checkpoint Inhibitors","Monoclonal Antibodies","Tyrosine Kinase Inhibitors","Proteasome Inhibitors","mTOR Inhibitors","BRAF Inhibitors","MEK Inhibitors","ALK Inhibitors","EGFR Inhibitors","CDK4/6 Inhibitors","VEGF Inhibitors","PD-1/PD-L1 Inhibitors","CTLA-4 Inhibitors"],description:"List any previous drug treatments you've received for your condition.",register:e,name:"priorDrugs",children:[(0,s.jsx)(Y,{label:"Drug Required Weight",name:"drugRequiredWeight",control:t}),(0,s.jsx)(Y,{label:"Drug Not Allowed Weight",name:"drugNotAllowedWeight",control:t})]}),(0,s.jsxs)(U,{inputProps:{placeholder:"Enter mutations",id:"mutations"},label:"Mutations",suggestions:["BRAF V600E","EGFR T790M","ALK Fusion","KRAS G12C","HER2 Amplification","BRCA1/2","PIK3CA","ROS1 Fusion","NTRK Fusion","MET Exon 14 Skipping","RET Fusion","IDH1/2","FGFR Alterations","PTEN Loss","TP53 Mutation","APC Mutation","CDKN2A Loss","SMAD4 Mutation","STK11 Mutation","KIT Mutation","JAK2 V617F","FLT3 ITD","NPM1 Mutation","CEBPA Mutation","IDH1 R132"],description:"List any known genetic mutations related to your condition.",register:e,name:"mutations",children:[(0,s.jsx)(Y,{label:"Mutation Required Match Weight",name:"mutationMatchWeight",control:t}),(0,s.jsx)(Y,{label:"Mutation Required Mismatch Weight",name:"mutationMismatchWeight",control:t}),(0,s.jsx)(Y,{label:"Mutation Not Allowed Weight",name:"mutationNotAllowedWeight",control:t}),(0,s.jsx)(Y,{label:"Mutation Mentioned Weight",name:"mutationMentionedWeight",control:t}),(0,s.jsx)(Y,{label:"Mutation Mentioned in Title/Brief Weight",name:"mutationMentionedTitleWeight",control:t})]}),(0,s.jsxs)(U,{inputProps:{placeholder:"Enter biomarkers",id:"biomarkers"},label:"Biomarkers",suggestions:["PD-L1","HER2","BRCA1/2","MSI-H","TMB-High","EGFR","ALK","ROS1","BRAF","KRAS","NTRK","MET","RET","PIK3CA","IDH1/2","FGFR","CD20","VEGF","ER/PR","PSA","CA-125","CEA","AFP","CA 19-9","CD19","CD22","BCMA","PSMA","DLL3","GD2","Mesothelin","NY-ESO-1"],description:"List any relevant biomarkers associated with your condition.",register:e,name:"biomarkers",children:[(0,s.jsx)(Y,{label:"Biomarker Required Weight",name:"biomarkerRequiredWeight",control:t}),(0,s.jsx)(Y,{label:"Biomarker Required Mismatch Weight",name:"biomarkerRequiredMismatchWeight",control:t}),(0,s.jsx)(Y,{label:"Biomarker Not Allowed Weight",name:"biomarkerNotAllowedWeight",control:t}),(0,s.jsx)(Y,{label:"Biomarker Mentioned Weight",name:"biomarkerMentionedWeight",control:t}),(0,s.jsx)(Y,{label:"Biomarker Treatment Required",name:"biomarkerProgressionRequiredWeight",control:t})]}),(0,s.jsx)(U,{inputProps:{placeholder:"Enter specific resistances",id:"specificResistances"},label:"Specific Resistances",suggestions:["Drug resistance","Treatment resistance","Chemotherapy resistance","Immunotherapy resistance","Targeted therapy resistance","Hormone therapy resistance","Radiation resistance","Multidrug resistance","Platinum resistance","EGFR TKI resistance","ALK TKI resistance","BRAF inhibitor resistance","Anti-HER2 therapy resistance","Androgen deprivation therapy resistance","T790M mutation","C797S mutation","G1202R mutation","Osimertinib resistance","Crizotinib resistance","Cetuximab resistance","Trastuzumab resistance","Tamoxifen resistance","Aromatase inhibitor resistance"],description:"Specify any known resistances to treatments.",register:e,name:"specificResistances",children:(0,s.jsx)("p",{children:"Specify any known resistances to treatments."})}),(0,s.jsx)(U,{inputProps:{placeholder:"Enter prior drug progression",id:"priorDrugProgression"},label:"Prior Drug Progression",suggestions:["Progressed on Chemotherapy","Progressed on Immunotherapy","Progressed on Targeted Therapy","Progressed on Hormone Therapy","Progressed on Radiation Therapy","Progressed on EGFR TKI","Progressed on ALK TKI","Progressed on BRAF inhibitor","Progressed on Anti-HER2 therapy","Progressed on PD-1/PD-L1 inhibitor","Progressed on PARP inhibitor","Progressed on CDK4/6 inhibitor","Progressed on mTOR inhibitor","Progressed on Proteasome inhibitor","Progressed on BTK inhibitor","Progressed on CAR T-cell therapy","Progressed on Stem cell transplant","Progressed on VEGF inhibitor","Progressed on CTLA-4 inhibitor","Progressed on JAK inhibitor","Progressed on PI3K inhibitor"],description:"Indicate any progression on previous treatments.",register:e,name:"priorDrugProgression",children:(0,s.jsx)("p",{children:"Indicate any progression on previous treatments."})})]}),(0,s.jsxs)("div",{className:"md:col-span-1 space-y-4",children:[(0,s.jsx)($,{name:"treatmentNaive",control:t,label:"Treatment-Naive Patient",description:"Indicate whether you have received any previous treatment for your condition."}),(0,s.jsx)($,{name:"previousSurgery",control:t,label:"Previous Surgery",description:"Indicate if you have had any previous surgery related to your condition."}),(0,s.jsx)($,{name:"brainMetastases",control:t,label:"Brain Metastases Status",description:"Indicate if you have brain metastases."}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(M,{className:"mb-1 flex items-center",children:["Cancer Stage",(0,s.jsx)(Q,{description:"Select your cancer stage."})]}),(0,s.jsx)("div",{className:"flex space-x-4",children:["1","2","3","4"].map(t=>(0,s.jsxs)("label",{className:"inline-flex items-center",children:[(0,s.jsx)("input",{type:"radio",...e("cancerStage"),value:t,className:"form-radio text-primary"}),(0,s.jsx)("span",{className:"ml-2",children:t})]},t))})]}),(0,s.jsx)($,{name:"metastaticCancer",control:t,label:"Metastatic Cancer",description:"Indicate if your cancer has metastasized."}),(0,s.jsx)($,{name:"progressedPDL1",control:t,label:"Progressed on PD-1/PD-L1 Treatment",description:"Indicate if you have progressed on PD-1/PD-L1 treatment."}),(0,s.jsx)(N,{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white mt-4",children:g?"Searching...":"Search"})]})]})]})})}),p&&(0,s.jsx)("div",{className:"mt-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",role:"alert",children:(0,s.jsx)("p",{children:p})}),o.length>0&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Search Results"}),(0,s.jsx)("div",{className:"space-y-6",children:o.map(e=>(0,s.jsx)(R,{children:(0,s.jsxs)(C,{className:"p-6",children:[(0,s.jsx)("h4",{className:"text-xl font-semibold mb-2",children:(0,s.jsx)("a",{href:"https://clinicaltrials.gov/ct2/show/".concat(e.NCTId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:e.title})}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:e.summary}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold",children:["Score: ",(0,s.jsx)("span",{className:"font-normal",children:e.score})]}),(0,s.jsxs)("p",{className:"font-semibold",children:["Enrollment: ",(0,s.jsx)("span",{className:"font-normal",children:e.enrollment})]}),e.distance&&(0,s.jsxs)("p",{className:"font-semibold",children:["Distance: ",(0,s.jsxs)("span",{className:"font-normal",children:[e.distance," miles"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold",children:["Zip Codes: ",(0,s.jsx)("span",{className:"font-normal",children:e.WithinRangeZips?e.WithinRangeZips.join(", "):"No locations available"})]}),(0,s.jsxs)("p",{className:"font-semibold",children:["Enrollment Change:",(0,s.jsxs)("span",{className:"font-normal ".concat(e.enrollmentChange>0?"text-green-600":"text-red-600"),children:[e.enrollmentChange>0?"+":"",e.enrollmentChange]})]})]})]}),e.scoringDetails&&e.scoringDetails.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h5",{className:"font-semibold mb-2",children:"Scoring Details:"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:e.scoringDetails.map((e,t)=>(0,s.jsxs)("li",{children:[e.criterion,": ",e.score]},t))})]}),e.priorTrialResults&&e.priorTrialResults.length>0&&(0,s.jsx)(n.pJ,{children:t=>{let{open:r}=t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.pJ.Button,{className:"flex justify-between w-full px-4 py-2                         mt-4 text-sm font-medium text-left text-blue-900 bg-blue-100 rounded-lg hover:bg-blue-200 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75",children:[(0,s.jsxs)("span",{children:["Prior Clinical Trial Results (",e.priorTrialResults.length,")"]}),(0,s.jsx)(l.Z,{className:"".concat(r?"transform rotate-180":""," w-5 h-5 text-blue-500")})]}),(0,s.jsx)(n.pJ.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500",children:(0,s.jsxs)(F,{children:[(0,s.jsx)(I,{children:(0,s.jsxs)(L,{children:[(0,s.jsx)(B,{children:"Add to Comparison"}),(0,s.jsx)(B,{children:"Drug Name(s)"}),(0,s.jsx)(B,{children:"PFS"}),(0,s.jsx)(B,{children:"ORR"}),(0,s.jsx)(B,{children:"OS"}),(0,s.jsx)(B,{children:"Genes/Mutations"}),(0,s.jsx)(B,{children:"Prior Treatments"}),(0,s.jsx)(B,{children:"Match Score"}),(0,s.jsx)(B,{children:"Other Characteristics"})]})}),(0,s.jsx)(E,{children:e.priorTrialResults.map(e=>(0,s.jsxs)(L,{children:[(0,s.jsx)(q,{children:(0,s.jsx)(N,{size:"sm",variant:"ghost",onClick:()=>S(e),"aria-label":"Add to comparison",children:v.some(t=>t.id===e.id)?(0,s.jsx)(c.Z,{className:"h-4 w-4"}):(0,s.jsx)(m.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(q,{children:e.drugNames.join(", ")}),(0,s.jsxs)(q,{children:[e.pfs.toFixed(1)," months"]}),(0,s.jsxs)(q,{children:[(100*e.orr).toFixed(1),"%"]}),(0,s.jsxs)(q,{children:[e.os.toFixed(1)," months"]}),(0,s.jsx)(q,{children:e.genesMutations.join(", ")}),(0,s.jsx)(q,{children:e.priorTreatments.join(", ")}),(0,s.jsxs)(q,{children:[(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(100*e.matchScore,"%")}})}),(0,s.jsxs)("span",{className:"text-xs",children:[(100*e.matchScore).toFixed(0),"%"]})]}),(0,s.jsx)(q,{children:e.otherCharacteristics})]},e.id))})]})})]})}})]})},e.NCTId))})]}),b&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Debug Information"}),(0,s.jsx)("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-x-auto",children:b})]}),(0,s.jsx)(h.M,{children:P&&(0,s.jsx)(u.E.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 w-2/3 h-full bg-white shadow-lg overflow-y-auto z-50 md:block",children:(0,s.jsx)(X,{selectedResults:v,onClose:()=>W(!1)})})}),(0,s.jsx)(z,{open:P,onOpenChange:W,children:(0,s.jsxs)(Z,{side:"bottom",className:"h-[80vh] overflow-y-auto md:hidden p-0",children:[(0,s.jsx)(V,{className:"p-4 bg-white",children:(0,s.jsx)(J,{children:"Compare Clinical Trial Results"})}),(0,s.jsx)("div",{className:"bg-white h-full",children:(0,s.jsx)(X,{selectedResults:v,onClose:()=>W(!1)})})]})}),v.length>0&&(0,s.jsxs)(N,{onClick:()=>W(!0),className:"fixed bottom-4 right-4 bg-blue-600 hover:bg-blue-700 text-white",children:["Compare Trial Results (",v.length,")"]})]})}}},function(e){e.O(0,[310,862,971,117,744],function(){return e(e.s=6393)}),_N_E=e.O()}]);